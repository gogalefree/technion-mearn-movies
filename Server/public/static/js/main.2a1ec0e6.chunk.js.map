{"version":3,"sources":["components/Login/LoginStyles.js","components/Movies/MovieUtils.js","components/Login/LoginServices.js","components/Login/Login.js","components/Login/useToken.js","components/Subscriptions/SubscriptionUtils.js","components/Movies/MovieCard.js","components/Movies/Movies.js","components/NavBar/NavBar.js","components/Movies/EditMovie.js","components/Movies/CreateMovie.js","components/Members/MembersUtils.js","components/Subscriptions/MovieSubscriptionRow.js","components/Subscriptions/AddSubDialog.js","components/Subscriptions/DeleteMemberDialog.js","components/Subscriptions/SubscriptionCard.js","components/Subscriptions/Subscriptions.js","components/Movies/MovieDetails.js","components/Members/EditMember.js","components/Members/CreateMember.js","components/RootContainer/RootContainer.js","App.js","index.js"],"names":["useLoginStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","primary","form","width","submit","spinner","errorStyle","color","error","main","getAllMovies","Promise","resolve","reject","a","baseURL","axios","get","res","updateMovie","movie","console","log","url","_id","headers","put","createMovie","post","deleteMovie","mId","delete","fetchMoviesNotSeen","moviesSeenIds","seenIds","Array","from","allMovies","data","notSeen","filter","m","includes","alert","fetchMovieWith","id","loginUser","credentials","reqUrl","fetch","method","body","JSON","stringify","then","json","Copyright","Typography","variant","align","Link","href","Date","getFullYear","Login","setToken","classes","useState","username","setUserName","password","setPassword","loading","setLoading","show","message","setError","onSubmit","e","preventDefault","token","handelError","Container","component","maxWidth","CssBaseline","className","Avatar","noValidate","TextField","required","fullWidth","label","name","autoComplete","autoFocus","onChange","target","value","type","Button","CircularProgress","Box","mt","useToken","tokenString","localStorage","getItem","parse","getToken","nameString","getFullName","fullName","setFullName","setItem","getAllSubscriptions","createSubscription","subscription","useStyles","root","minWidth","minHeight","deleteButton","dark","MovieCard","subscriptions","geners","setGeners","useEffect","join","dates","setDates","history","useHistory","datesStr","map","d","utcSeconds","parseInt","date","current","setUTCSeconds","toString","slice","onDelete","window","location","reload","Card","CardMedia","alt","height","image","imageUrl","title","CardContent","gutterBottom","yearPremiered","length","s","index","CardActions","size","onClick","push","flexGrow","paddingTop","padding","textAlign","text","secondary","Movies","movies","setMovies","setSubscriptions","fetchMovies","fetchSubscriptions","movieGridItems","Grid","item","xs","moviesId","disableElevation","container","NavBar","activeButton","setActiveButton","useLocation","pathname","fontSize","marginRight","Navbar","bg","expand","Brand","toUpperCase","Toggle","aria-controls","Collapse","Nav","activeKey","Item","eventKey","style","flex","clear","objectFit","textField","marginLeft","marginBottom","card","imgContainer","light","EditMovie","setMovie","setName","year","setYear","nameError","setNameError","onUpdate","movieToUpdate","CardHeader","split","actions","justifyContent","CreateMovie","premieredYear","setPremieredYear","setImageUrl","onAddMovie","movieToAdd","getAllMembers","createMember","memberData","updateMember","memberId","deleteMember","details","cover","MovieSubscriptionRow","movieUrl","movieName","strInt","readableDate","Transition","React","forwardRef","props","ref","Slide","direction","formControl","AddSubDialog","isOpen","didClose","movieDate","setMovieDate","movieId","setMovieId","setMovieName","isLoading","handleSubscribe","sub","items","MenuItem","Fragment","Dialog","open","onClose","aria-labelledby","TransitionComponent","DialogTitle","DialogContent","FormControl","InputLabel","htmlFor","Select","event","subMovieId","inputProps","defaultValue","InputLabelProps","shrink","dateString","epoch","Number","DialogActions","disabled","DeleteMemberDialog","didFinish","member","handleDelete","aria-describedby","DialogContentText","addSubButton","subTitle","grey","SubscriptionCard","dialogOpen","setDialogOpen","moviesNotSeen","setMoviesNotSeen","showDeleteDialog","setShowDeleteDialog","onAddSub","ids","uniqe","Set","moviesNS","raised","city","email","shouldReload","AllSubscriptions","members","setMembers","fetchMembers","subs","MovieDetails","setSubs","useParams","getData","getSubs","goBack","EditMember","setEmail","setCity","emailError","setEmailError","mData","memberToUpdate","CreateMember","onCreate","memberToCreate","RootContainer","path","exact","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2a1ec0e6.chunk.js","sourcesContent":["import { makeStyles } from '@material-ui/core/styles';\n\n\nexport const useLoginStyles = makeStyles((theme) => ({\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.primary\n    },\n    form: {\n      width: '100%', // Fix IE 11 issue.\n      marginTop: theme.spacing(1)\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2)\n    },\n    spinner: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    errorStyle: {\n      color: theme.palette.error.main,\n      marginTop: theme.spacing(3)\n    }\n  }));","import axios from 'axios';\n\n//export const baseURL = 'http://localhost:8080';\nexport const baseURL = '';\n\nexport function getAllMovies() {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const url = baseURL + '/api/movies';\n      const res = await axios.get(url);\n      resolve(res);\n    } catch (err) {\n      reject(err);\n    }\n  });\n}\n\nexport function updateMovie(movie) {\n  console.log('updateing', movie);\n  return new Promise(async (resolve, reject) => {\n    try {\n      const url = baseURL + '/api/movies/' + movie._id;\n      const headers = {\n        'Content-Type': 'application/json'\n      };\n\n      const res = await axios.put(url, movie, { headers });\n      resolve(res);\n    } catch (err) {\n      reject(err);\n    }\n  });\n}\n\nexport function createMovie(movie) {\n  console.log('creating', movie);\n  return new Promise(async (resolve, reject) => {\n    try {\n      const url = baseURL + '/api/movies';\n      const headers = {\n        'Content-Type': 'application/json'\n      };\n\n      const res = await axios.post(url, movie, { headers });\n      resolve(res);\n    } catch (err) {\n      reject(err);\n    }\n  });\n}\n\nexport function deleteMovie(mId) {\n  console.log('Deleting movie with id: ', mId);\n  return new Promise(async (resolve, reject) => {\n    try {\n      // const headers = {\n      //   'Content-Type': 'application/json'\n      // };\n      const url = baseURL + '/api/movies/' + mId;\n      console.log('delete url: ', url);\n      const res = await axios.delete(url);\n      resolve(res);\n    } catch (err) {\n      reject(err);\n    }\n  });\n}\n\nexport function fetchMoviesNotSeen(moviesSeenIds) {\n  return new Promise(async (resolve, reject) => {\n//    let allMovies;\n    try {\n      const seenIds = Array.from(moviesSeenIds);\n      const res = await getAllMovies();\n      const allMovies = res.data;\n      let notSeen = allMovies.filter((m) => !seenIds.includes(m._id));\n      console.log('not seen movies: ', notSeen);\n      resolve(notSeen);\n    } catch (getMoviesError) {\n      alert('Couldnt fetch all movies', getMoviesError);\n      reject(getMoviesError);\n    }\n  });\n}\n\nexport function fetchMovieWith(id) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const url = baseURL + '/api/movies/' + id;\n      const res = await axios.get(url);\n      resolve(res);\n    } catch (err) {\n      reject(err);\n    }\n  });\n}\n","import { baseURL as url } from '../Movies/MovieUtils';\n\nexport async function loginUser(credentials) {\n  const reqUrl = url + '/api/users/login';\n  console.log('req url: ', reqUrl);\n  return fetch(reqUrl, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(credentials)\n  }).then((data) => data.json());\n}\n","import React, { useState } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport PropTypes from 'prop-types';\nimport { useLoginStyles } from './LoginStyles';\nimport { loginUser } from './LoginServices';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://tpapps.co.il/\">\n        Guy Freedman - T.P.Apps\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nexport default function Login({ setToken }) {\n  const classes = useLoginStyles();\n  const [username, setUserName] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState({\n    show: false,\n    message: 'Could Not Log In'\n  });\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    setError({ ...error, show: false });\n    setLoading(true);\n    try {\n      const data = await loginUser({\n        username,\n        password\n      });\n\n      console.log('login response:', data);\n\n      if (!data.token) {\n        handelError();\n        return;\n      }\n\n      setToken(data);\n    } catch (err) {\n      handelError();\n    }\n  };\n\n  const handelError = () => {\n    console.log('error login ');\n    setError({ ...error, show: true });\n    setLoading(false);\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <form className={classes.form} noValidate onSubmit={onSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            onChange={(e) => setUserName(e.target.value)}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            onChange={(e) => setPassword(e.target.value)}\n          />\n          {/* <FormControlLabel\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\n            label=\"Remember me\"\n          /> */}\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            Sign In\n          </Button>\n        </form>\n      </div>\n      <div className={classes.spinner}>\n        {loading && <CircularProgress color=\"secondary\" className=\"mt-2\" />}\n        {error.show && <h6 className={classes.errorStyle}>{error.message}</h6>}\n      </div>\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n\nLogin.propTypes = {\n  setToken: PropTypes.func\n};\n","import { useState } from 'react';\n\nexport default function useToken() {\n  const getToken = () => {\n    const tokenString = localStorage.getItem('token');\n    const userToken = JSON.parse(tokenString);\n    return userToken;\n  };\n\n  const getFullName = () => {\n    const nameString = localStorage.getItem('fullName');\n    const userName = JSON.parse(nameString);\n    return userName;\n  };\n\n  const [token, setToken] = useState(getToken());\n  const [fullName, setFullName] = useState(getFullName());\n\n  const saveToken = (data) => {\n    localStorage.setItem('token', JSON.stringify(data.token));\n    localStorage.setItem('fullName', JSON.stringify(data.fullName));\n    setToken(data.token);\n    setFullName(data.fullName);\n  };\n\n  return {\n    setToken: saveToken,\n    token,\n    fullName\n  };\n}\n","import axios from 'axios';\nimport { baseURL } from '../Movies/MovieUtils';\n\nexport function getAllSubscriptions() {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const url = baseURL + '/api/subscriptions';\n      const res = await axios.get(url);\n      resolve(res);\n    } catch (err) {\n      reject(err);\n    }\n  });\n}\n\nexport function createSubscription(subscription) {\n    console.log('creating', subscription);\n    return new Promise(async (resolve, reject) => {\n      try {\n        const url = baseURL + '/api/subscriptions';\n        const headers = {\n          'Content-Type': 'application/json'\n        };\n  \n        const res = await axios.post(url, subscription, { headers });\n        resolve(res);\n      } catch (err) {\n        reject(err);\n      }\n    });\n  }","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { useHistory } from 'react-router-dom';\nimport { deleteMovie } from './MovieUtils';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    minWidth: 500,\n    minHeight: 440\n  },\n  deleteButton: {\n    color: theme.palette.error.dark\n  }\n}));\n\nexport default function MovieCard({ movie, subscriptions }) {\n  const classes = useStyles();\n  const [geners, setGeners] = useState('');\n\n  useEffect(() => {\n    if (movie.geners) {\n      setGeners(movie.geners.join(', '));\n    }\n  }, [geners, movie.geners]);\n\n  const [dates, setDates] = useState([]);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (subscriptions) {\n      const datesStr = subscriptions.map((d) => {\n        const utcSeconds = parseInt(d.date);\n        var current = new Date(0);\n        current.setUTCSeconds(utcSeconds);\n        const tstr = current.toString();\n        return tstr.slice(3, 15);\n      });\n\n      setDates(datesStr);\n    }\n  }, [subscriptions]);\n\n  const onEditMovie = () => {\n    localStorage.setItem('movie', JSON.stringify(movie));\n    const url = '/editMovie/' + movie._id;\n    history.push(url);\n  };\n\n  const onDelete = async () => {\n    const mId = movie._id;\n    try {\n      await deleteMovie(mId);\n      window.location.reload();\n    } catch (err) {\n      console.log('error: ', err);\n      alert('Could not delete due to server Error.');\n    }\n  };\n\n  return (\n    <Card className={classes.root}>\n      {/* <CardActionArea> */}\n      <CardMedia\n        component=\"img\"\n        alt={movie.name}\n        height=\"300\"\n        image={movie.imageUrl}\n        title={movie.name}\n      />\n      <CardContent>\n        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n          {movie.name}, {movie.yearPremiered}\n        </Typography>\n        <Typography gutterBottom variant=\"body1\" component=\"h2\">\n          Geners: {geners}\n        </Typography>\n        {subscriptions.length > 0 ? (\n          <Typography gutterBottom variant=\"body1\" component=\"h2\">\n            Subscriptions Watched:\n          </Typography>\n        ) : (\n          <Typography gutterBottom variant=\"body1\" component=\"h2\">\n            No Subscriptions watched yet\n          </Typography>\n        )}\n\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"h2\">\n          <ul>\n            {subscriptions.map((s, index) => {\n              return (\n                <li key={index}>\n                  {s.fullName}, {dates[index]}\n                </li>\n              );\n            })}\n          </ul>\n        </Typography>\n      </CardContent>\n      <CardActions>\n        <Button size=\"small\" color=\"primary\" onClick={onEditMovie}>\n          Edit\n        </Button>\n\n        <Button\n          size=\"small\"\n          className={classes.deleteButton}\n          onClick={onDelete}\n        >\n          Delete\n        </Button>\n      </CardActions>\n    </Card>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport { Typography, Button } from '@material-ui/core';\nimport { getAllMovies } from './MovieUtils';\nimport { getAllSubscriptions } from '../Subscriptions/SubscriptionUtils';\nimport MovieCard from './MovieCard';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    paddingTop: 20,\n    alignItems: 'center'\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary\n  }\n}));\n\nexport default function Movies() {\n  const classes = useStyles();\n  const [movies, setMovies] = useState([{}]);\n  const [subscriptions, setSubscriptions] = useState([{}]);\n  const history = useHistory();\n  \n  useEffect(() => {\n    async function fetchMovies() {\n      try {\n        const res = await getAllMovies();\n        setMovies(res.data);\n      } catch (err) {\n        alert('Error connecting to server: ', err);\n      }\n    }\n\n    async function fetchSubscriptions() {\n      try {\n        const res = await getAllSubscriptions();\n        setSubscriptions(res.data);\n      } catch (err) {\n        alert('Error connecting to server: ', err);\n      }\n    }\n\n    fetchMovies();\n    fetchSubscriptions();\n  }, []);\n\n  const onAddMovie = ()=> {\n      history.push('/createMovie')\n  }\n\n  const movieGridItems = movies.map((m, index) => {\n    console.log(m._id);\n    return (\n      <Grid item xs={6} key={index}>\n        <MovieCard\n          movie={m}\n          subscriptions={subscriptions.filter((s) => s.moviesId === m._id)}\n        />\n      </Grid>\n    );\n  });\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h3\" color=\"textSecondary\" className=\"mb-5\">\n        Movies List\n      </Typography>\n\n      <Button\n        variant=\"outlined\"\n        className=\"mb-5\"\n        disableElevation\n        color=\"primary\"\n        onClick={onAddMovie}\n      >\n        Add New Movie\n      </Button>\n      <Grid container spacing={5}>\n        {movieGridItems}\n      </Grid>\n    </div>\n  );\n}\n","import { Container } from '@material-ui/core';\nimport React, { useState, useEffect } from 'react';\nimport { Navbar, Nav } from 'react-bootstrap';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport useToken from '../Login/useToken';\n\nexport default function NavBar() {\n  const [activeButton, setActiveButton] = useState('/');\n  const { fullName } = useToken();\n  const location = useLocation();\n  useEffect(() => {\n    setActiveButton(location.pathname);\n  }, [location.pathname]);\n\n  const fontSize = {\n    fontSize: 18,\n    marginRight: 25\n  };\n\n  const handleLogout = () => {\n    localStorage.clear();\n    window.location.reload();\n  };\n\n  return (\n    <Navbar bg=\"dark\" variant=\"dark\" expand=\"md\">\n      <Navbar.Brand>Hi, {fullName.toUpperCase()}</Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav\" className=\"ml-5\">\n        <Container>\n          <Nav className=\"mr-auto\" activeKey={activeButton}>\n            <Nav.Item>\n              <Nav.Link href=\"/\" eventKey=\"/\" style={fontSize}>\n                Movies\n              </Nav.Link>\n            </Nav.Item>\n            {/* <Nav.Item>\n              <Nav.Link href=\"/members\" eventKey=\"/members\" style={fontSize}>\n                Memebers\n              </Nav.Link>\n            </Nav.Item> */}\n            <Nav.Item>\n              <Nav.Link\n                href=\"/subscriptions\"\n                eventKey=\"/subscriptions\"\n                style={fontSize}\n              >\n                Subscriptions\n              </Nav.Link>\n            </Nav.Item>\n            <div style={{ flex: 1 }}></div>\n            <Nav.Item>\n              <Nav.Link onClick={handleLogout} >\n                Logout\n              </Nav.Link>\n            </Nav.Item>\n          </Nav>\n        </Container>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport {\n  Button,\n  CardActions,\n  Card,\n  CardMedia,\n  CardHeader,\n  Typography\n} from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport { updateMovie } from './MovieUtils';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  form: {\n    width: 500, // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  spinner: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  errorStyle: {\n    color: theme.palette.error.main,\n    marginTop: theme.spacing(3)\n  },\n  image: {\n    width: 500,\n    height: 400,\n    objectFit: 'cover'\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(3)\n  },\n  card: {\n    width: '50vw',\n    marginTop: theme.spacing(3)\n  },\n  imgContainer: {\n    textAlign: 'center'\n  },\n  deleteButton: {\n    color: theme.palette.error.light\n  }\n}));\n\nexport default function EditMovie() {\n  const classes = useStyles();\n  const [movie, setMovie] = useState({});\n  const [name, setName] = useState('');\n  const [year, setYear] = useState('');\n  const [geners, setGeners] = useState([]);\n  const [nameError, setNameError] = useState(false);\n  const history = useHistory();\n  useEffect(() => {\n    const m = JSON.parse(localStorage.getItem('movie'));\n    console.log('m:', m);\n    setMovie(m);\n    setName(m.name);\n    setYear(m.yearPremiered);\n    setGeners(m.geners);\n  }, []);\n\n  const onTitleChanged = (e) => {\n    setNameError(false);\n    setName(e.target.value);\n    if (e.target.value === '') {\n      setNameError(true);\n    }\n  };\n\n  const onCancel = () => {\n    history.push('/');\n  };\n\n  const onUpdate = async () => {\n    setNameError(false);\n    if (name === '') {\n      setNameError(true);\n      return;\n    }\n\n    const movieToUpdate = { ...movie, name, yearPremiered: parseInt(year), geners };\n    console.log('movie to update: ', movieToUpdate);\n    try {\n      await updateMovie(movieToUpdate);\n      history.push('/');\n    } catch (err) {\n      console.log(err);\n      alert('Could not update movie due to network error');\n    }\n  };\n\n  return (\n     <div className={classes.paper}>\n    <Card className={classes.card}>\n      <CardHeader title={movie.name ? movie.name.toUpperCase() : ''} />\n      <CardMedia\n        component=\"img\"\n        alt={movie.name}\n        height=\"400\"\n        image={movie.imageUrl}\n        title={movie.name}\n      />\n\n      <div className={classes.paper}>\n        <form noValidate autoComplete=\"off\">\n          <TextField\n            fullWidth\n            id=\"name\"\n            label=\"Movie Title\"\n            value={name}\n            onChange={onTitleChanged}\n            className={classes.textField}\n            error={nameError}\n          />\n    \n          <TextField\n            fullWidth\n            id=\"year\"\n            type=\"number\"\n            label=\"Year Premiered\"\n            value={year}\n            onChange={(e) => setYear(e.target.value)}\n            className={classes.textField}\n          />\n          <TextField\n            fullWidth\n            id=\"Geners\"\n            label=\"Put a Comma between Geners\"\n            className={classes.textField}\n            value={geners.join(', ')}\n            onChange={(e) => setGeners(e.target.value.split(', '))}\n          />\n          <CardActions>\n            <Button\n              size=\"small\"\n              color=\"primary\"\n              variant=\"outlined\"\n              className=\"mb-3\"\n              onClick={onUpdate}\n            >\n              Update\n            </Button>\n\n            <Button\n              size=\"small\"\n              color=\"secondary\"\n              className=\"mb-3 ml-4\"\n              variant=\"outlined\"\n              onClick={onCancel}\n            >\n              Cancel\n            </Button>\n          </CardActions>\n        </form>\n      </div>\n    </Card>\n     </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport {\n  Button,\n  CardActions,\n  Card,\n  CardMedia,\n  CardHeader,\n  Typography,\n  CardContent,\n  CardActionArea\n} from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport { createMovie } from './MovieUtils';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(5),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',  \n  },\n  \n  spinner: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  errorStyle: {\n    color: theme.palette.error.main,\n    marginTop: \"-15px\"\n  },\n  image: {\n    width: 500,\n    height: 400,\n    objectFit: 'cover'\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n    width: '55vw'\n  },\n  card: {\n    width: '60vw',\n    marginTop: theme.spacing(3)\n  },\n  imgContainer: {\n    textAlign: 'center'\n  },\n  deleteButton: {\n    color: theme.palette.error.light\n  },\n  actions: {\n    display: 'flex',\n    justifyContent: 'left',\n    marginTop: theme.spacing(3)\n  },\n\n}));\n\nexport default function CreateMovie() {\n  const classes = useStyles();\n  const [name, setName] = useState('');\n  const [premieredYear, setPremieredYear] = useState(2020);\n  const [geners, setGeners] = useState([]);\n  const [imageUrl, setImageUrl] = useState('');\n  const [nameError, setNameError] = useState(false);\n  const history = useHistory();\n\n  useEffect(() => {}, []);\n\n  const onTitleChanged = (e) => {\n    setNameError(false);\n    setName(e.target.value);\n    if (e.target.value === '') {\n      setNameError(true);\n    }\n  };\n\n  const onCancel = () => {\n    history.push('/');\n  };\n\n  const onAddMovie = async () => {\n    setNameError(false);\n    if (name === '') {\n      setNameError(true);\n      return;\n    }\n\n    const movieToAdd = { name, premieredYear, imageUrl, geners };\n    console.log('movie to create: ', movieToAdd);\n    try {\n      await createMovie(movieToAdd);\n      history.push('/');\n    } catch (err) {\n      console.log(err);\n      alert('Could not create movie due to network error');\n    }\n  };\n\n  return (\n    <div className={classes.paper}>\n      <Card className={classes.card} variant=\"outlined\">\n        <CardHeader title={name === '' ? 'ADD MOVIE' : name} />\n        {imageUrl === '' ? null : (\n          <CardMedia\n            component=\"img\"\n            alt={name}\n            height=\"400\"\n            image={imageUrl}\n            title={name}\n          />\n        )}\n        {/* <div className={classes.paper}> */}\n        <CardContent>\n          {/* <form noValidate autoComplete=\"off\"> */}\n          <TextField\n            fullWidth\n            id=\"name\"\n            label=\"Movie Title\"\n            value={name}\n            onChange={onTitleChanged}\n            className={classes.textField}\n            error={nameError}\n            required={true}\n            margin=\"normal\"\n            \n          />\n          {nameError && <div className={classes.errorStyle} ><small >Title is required</small></div>}\n\n          <TextField\n            fullWidth\n            id=\"year\"\n            type=\"number\"\n            label=\"Year Premiered\"\n            value={premieredYear}\n            onChange={(e) => setPremieredYear(e.target.value)}\n            className={classes.textField}\n          />\n          <TextField\n            fullWidth\n            id=\"Geners\"\n            label=\"Geners - Put a Comma between Geners\"\n            className={classes.textField}\n            value={geners.join(', ')}\n            onChange={(e) => setGeners(e.target.value.split(', '))}\n          />\n          <TextField\n            fullWidth\n            id=\"imageUrl\"\n            label=\"Image Url\"\n            className={classes.textField}\n            value={imageUrl}\n            onChange={(e) => setImageUrl(e.target.value)}\n          />\n\n          <CardActions className={classes.actions}>\n            {/* <div className={classes.actions}> */}\n              <Button\n                size=\"small\"\n                color=\"primary\"\n                variant=\"outlined\"\n                className=\"mb-3\"\n                onClick={onAddMovie}\n              >\n                ADD MOVIE\n              </Button>\n\n              <Button\n                size=\"small\"\n                color=\"secondary\"\n                className=\"mb-3 ml-4\"\n                variant=\"outlined\"\n                onClick={onCancel}\n              >\n                CANCEL\n              </Button>\n            {/* </div> */}\n          </CardActions>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import axios from 'axios';\nimport { baseURL } from '../Movies/MovieUtils';\n\nexport function getAllMembers() {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const url = baseURL + '/api/members';\n      const res = await axios.get(url);\n      resolve(res);\n    } catch (err) {\n      reject(err);\n    }\n  });\n}\n\nexport function createMember(memberData) {\n  console.log('creating', memberData);\n  return new Promise(async (resolve, reject) => {\n    try {\n      const url = baseURL + '/api/members';\n      const headers = {\n        'Content-Type': 'application/json'\n      };\n      const res = await axios.post(url, memberData, { headers });\n      resolve(res);\n    } catch (err) {\n      reject(err);\n    }\n  });\n}\n\nexport function updateMember(memberId, memberData) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const url = baseURL + '/api/members/' + memberId;\n      const headers = {\n        'Content-Type': 'application/json'\n      };\n\n      const res = await axios.put(url, memberData, { headers });\n      resolve(res);\n    } catch (err) {\n      reject(err);\n    }\n  });\n}\n\nexport function deleteMember(mId) {\n  console.log('Deleting member with id: ', mId);\n  return new Promise(async (resolve, reject) => {\n    try {\n      const url = baseURL + '/api/members/' + mId;\n      console.log('delete url: ', url);\n      const res = await axios.delete(url);\n      resolve(res);\n    } catch (err) {\n      reject(err);\n    }\n  });\n}","import { Card, CardContent, Typography, CardMedia } from '@material-ui/core';\nimport React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Link from '@material-ui/core/Link';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    textAlign: 'middle',\n    marginTop: '10px',\n    marginBottom: '10px'\n  },\n\n  details: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n\n  cover: {\n    width: 40,\n    height: 50,\n    marginLeft: theme.spacing(1)\n  }\n}));\n\nexport default function MovieSubscriptionRow({ subscription = {} }) {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const readableDate = (strInt) => {\n    console.log('readable date: ' , strInt);\n    const utcSeconds = parseInt(strInt);\n    var current = new Date(0);\n    current.setUTCSeconds(utcSeconds);\n    const tstr = current.toString();\n    return tstr.slice(3, 15);\n  };\n\n  useEffect(() => {\n    if (subscription) {\n      console.log(subscription);\n    }\n  }, []);\n\n  const handleMovieClick = () => {\n    const url = '/movieDetails/' + subscription.moviesId;\n    history.push(url);\n  };\n\n  return (\n    <Card className={classes.root} variant=\"outlined\">\n      <CardMedia\n        component=\"img\"\n        alt={subscription.name}\n        height=\"50\"\n        image={subscription.movieUrl}\n        title={subscription.movieName}\n        className={classes.cover}\n      />\n      <div className={classes.details}>\n        <CardContent>\n          <Typography variant=\"body2\" component=\"h6\">\n            <Link onClick={handleMovieClick}>{subscription.movieName} </Link>,{' '}\n            {readableDate(subscription.date)}\n          </Typography>\n        </CardContent>\n      </div>\n    </Card>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport { createSubscription } from './SubscriptionUtils';\n\nimport Slide from '@material-ui/core/Slide';\n\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props}  />;\n});\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    margin: 'auto',\n    width: 'fit-content'\n  },\n  formControl: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(5),\n    minWidth: 150\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    marginBottom: theme.spacing(2),\n    width: 200\n  }\n}));\n\nexport default function AddSubDialog({\n  isOpen,\n  name,\n  memberId,\n  movies,\n  didClose\n}) {\n  const classes = useStyles();\n  const [movieDate, setMovieDate] = React.useState('');\n  const [movieId, setMovieId] = React.useState('');\n  const [movieName, setMovieName] = React.useState('');\n  let isLoading = false;\n\n  const handleSubscribe = async () => {\n    if (movieId === '' || movieDate === '') {\n      alert('Movie and date must be picked');\n      return;\n    }\n    isLoading = true;\n    console.log('memberId' , memberId);\n    const sub = {\n      memberId: memberId,\n      moviesId: movieId,\n      date: movieDate\n    };\n\n    try {\n      let s = await createSubscription(sub);\n      isLoading = false;\n      didClose(true);\n    } catch (err) {\n      alert('Server Error: Subscription Not Created');\n      isLoading = false;\n    }\n  };\n\n  const handleCancel = () => {\n    didClose(false);\n  };\n\n  //called when the user taps outside the Modal\n  const handleClose = () => {\n    if (!isLoading) {\n      didClose(false);\n    }\n  };\n\n  const handleMovieChanged = (event) => {\n    const subMovieId = event.target.value;\n    setMovieName(subMovieId);\n    setMovieId(subMovieId);\n  };\n\n  const handleDateChange = (e) => {\n    let dateString = e.target.value;\n    let date = new Date(dateString);\n    let epoch = parseInt(Number(date) / 1000); //turn millisconds to seconds\n    setMovieDate(parseInt(epoch));\n    console.log('date string: ' , dateString);\n    console.log('date: ' , date);\n    console.log('epoch: ' , epoch);\n  };\n\n  let items = [];\n\n  if (movies) {\n    items = movies.map((m, index) => {\n      return (\n        <MenuItem key={index} value={m._id}>\n          {m.name}\n        </MenuItem>\n      );\n    });\n  }\n  return (\n    <React.Fragment>\n      <Dialog\n        fullWidth={true}\n        maxWidth=\"md\"\n        open={isOpen}\n        onClose={handleClose}\n        aria-labelledby=\"add-sub-dialog-title\"\n        TransitionComponent={Transition}\n      >\n        <DialogTitle id=\"add-sub-dialog-title\">\n          Add Subscription - {name}\n        </DialogTitle>\n        <DialogContent>\n          {/* <DialogContentText>\n          </DialogContentText> */}\n          <form className={classes.form} noValidate>\n            <FormControl className={classes.formControl}>\n              <InputLabel htmlFor=\"movie-name\">Movie To Watch</InputLabel>\n              <Select\n                autoFocus\n                value={movieName}\n                onChange={handleMovieChanged}\n                inputProps={{\n                  name: 'movie-name',\n                  id: 'movie-name'\n                }}\n              >\n                {items}\n              </Select>\n            </FormControl>\n\n            <TextField\n              id=\"date\"\n              label=\"Subscription Date\"\n              type=\"date\"\n              defaultValue={movieDate}\n              className={classes.textField}\n              InputLabelProps={{\n                shrink: true\n              }}\n              onChange={handleDateChange}\n            />\n          </form>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleCancel} color=\"secondary\">\n            Cancel\n          </Button>\n          <Button\n            onClick={handleSubscribe}\n            color=\"primary\"\n            disabled={movieId === '' || movieDate === ''}\n          >\n            Subscribe\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </React.Fragment>\n  );\n}\n","import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { deleteMember } from '../Members/MembersUtils';\n\nexport default function DeleteMemberDialog({ open, didFinish, member }) {\n  const [loading, setLoading] = useState(false);\n\n  const handleCancel = () => {\n    didFinish(false);\n  };\n\n  const handleDelete = async () => {\n    console.log('delete: ', member._id);\n    setLoading(true);\n    const mId = member._id;\n    try {\n      let res = await deleteMember(mId);\n      setLoading(false);\n      didFinish(true);\n    } catch (err) {\n      console.log('error: ', err);\n      alert('Could not delete due to server Error.');\n    }\n  };\n  const handleClose = () => {\n    if (!loading) {\n      didFinish(false);\n    }\n  };\n\n  return (\n    <div>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{`Delete ${member.fullName}?`}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            This will delete the member and all of their subscriptions. This\n            operation can not be undone.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleCancel} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={handleDelete} color=\"primary\" autoFocus>\n            Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { useHistory } from 'react-router-dom';\nimport { CardHeader } from '@material-ui/core';\nimport MovieSubscriptionRow from './MovieSubscriptionRow';\nimport AddSubDialog from './AddSubDialog';\nimport { fetchMoviesNotSeen } from '../Movies/MovieUtils';\nimport DeleteMemberDialog from './DeleteMemberDialog';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    maxWidth: 500\n    //minHeight: 440\n  },\n  deleteButton: {\n    color: theme.palette.error.dark\n  },\n  addSubButton: {\n    color: theme.palette.primary.main,\n    marginLeft: theme.spacing(2),\n    marginBottom: theme.spacing(3)\n  },\n  subTitle: {\n    color: theme.palette.grey[800],\n    marginLeft: theme.spacing(2),\n    marginTop: theme.spacing(4),\n    marginBottom: theme.spacing(1)\n  }\n}));\n\nexport default function SubscriptionCard({ subscriptions, member }) {\n  const classes = useStyles();\n  const history = useHistory();\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [moviesNotSeen, setMoviesNotSeen] = useState([{}]);\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\n\n  useEffect(() => {}, [subscriptions, member]);\n\n  //Called by AddSubDialog\n  const didCloseModal = (shouldReload) => {\n    if (shouldReload) {\n      window.location.reload();\n    }\n    setDialogOpen(false);\n  };\n\n  const onEditMember = () => {\n    localStorage.setItem('member', JSON.stringify(member));\n    let mId = member._id;\n    let url = `/editMember/${mId}`;\n    history.push(url);\n  };\n\n  const onDelete = async () => {\n    setShowDeleteDialog(true);\n  };\n\n  const onDeleteDialofFinished = (shouldReload) => {\n    setShowDeleteDialog(false);\n    if (shouldReload) {\n      window.location.reload();\n    }\n  };\n  const onAddSub = async () => {\n    if (subscriptions) {\n      const ids = subscriptions.map((s) => s.moviesId);\n      const uniqe = new Set(ids);\n      try {\n        console.log('fetch not seen');\n        const moviesNS = await fetchMoviesNotSeen(uniqe);\n        setMoviesNotSeen(moviesNS);\n        setDialogOpen(true);\n      } catch (err) {\n        console.log('error getting movies not seen', err);\n      }\n    }\n  };\n\n  return (\n    <>\n      <Card className={classes.root} raised={true}>\n        <CardHeader type=\"title\" title={member.fullName} />\n        <CardContent>\n          <Typography gutterBottom variant=\"body1\" component=\"h2\">\n            {member.city}\n          </Typography>\n          <Typography gutterBottom variant=\"body1\" component=\"h2\">\n            {member.email}\n          </Typography>\n        </CardContent>\n        <CardActions>\n          <Button size=\"small\" color=\"primary\" onClick={onEditMember}>\n            Edit\n          </Button>\n\n          <Button\n            size=\"small\"\n            className={classes.deleteButton}\n            onClick={onDelete}\n          >\n            Delete\n          </Button>\n        </CardActions>\n\n        <hr></hr>\n\n        <Typography variant=\"h6\" className={classes.subTitle}>\n          {subscriptions.length > 0\n            ? 'SUBSCRIPTIONS WATCHED'\n            : 'NO SUBSCRIPTIONS YET'}\n        </Typography>\n\n        <Button\n          size=\"small\"\n          className={classes.addSubButton}\n          onClick={onAddSub}\n        >\n          Add Subscription\n        </Button>\n\n        <AddSubDialog\n          isOpen={dialogOpen}\n          name={member.fullName}\n          movies={moviesNotSeen}\n          didClose={didCloseModal}\n          memberId={member._id}\n        />\n\n       {subscriptions && subscriptions.map((s, index) => {\n          return <MovieSubscriptionRow subscription={s} key={index} />;\n        })}\n       \n      </Card>\n\n      <DeleteMemberDialog\n        open={showDeleteDialog}\n        didFinish={onDeleteDialofFinished}\n        member={member}\n      />\n    </>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport { Typography, Button } from '@material-ui/core';\nimport { getAllSubscriptions } from '../Subscriptions/SubscriptionUtils';\nimport { getAllMembers } from '../Members/MembersUtils';\nimport { useHistory } from 'react-router-dom';\nimport SubscriptionCard from './SubscriptionCard';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    paddingTop: 20,\n    alignItems: 'center'\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary\n  }\n}));\n\nexport default function AllSubscriptions() {\n  const classes = useStyles();\n  const [subscriptions, setSubscriptions] = useState([{}]);\n  const [members, setMembers] = useState([{}]);\n  const history = useHistory();\n\n  useEffect(() => {\n    async function fetchSubscriptions() {\n      try {\n        const res = await getAllSubscriptions();\n        console.log('subscriptions new: ' , res.data);\n        setSubscriptions(res.data);\n      } catch (err) {\n        alert('Error connecting to server: ', err);\n      }\n    }\n\n    async function fetchMembers() {\n      try {\n        let res = await getAllMembers();\n        setMembers(res.data);\n        console.log('members: ', res.data);\n      } catch (err) {}\n    }\n    fetchSubscriptions();\n    fetchMembers();\n  }, []);\n\n  const onAddMember = () => {\n    history.push('/createMember');\n  };\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h3\" color=\"textSecondary\" className=\"mb-5\">\n      Members And Subscriptions  \n      </Typography>\n\n      <Button\n        variant=\"outlined\"\n        className=\"mb-5\"\n        disableElevation\n        color=\"primary\"\n        onClick={onAddMember}\n      >\n        Add New Member\n      </Button>\n      <Grid container spacing={5}>\n\n        {members && members.map((m, index) => {\n          let subs = subscriptions.filter((s) => s.memberId === m._id);\n          return (\n            <Grid item xs={6} key={index}>\n              <SubscriptionCard subscriptions={subs} member={m} />\n            </Grid>\n          );\n        })}\n\n      \n      </Grid>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchMovieWith } from './MovieUtils';\nimport MovieCard from './MovieCard';\nimport { getAllSubscriptions } from '../Subscriptions/SubscriptionUtils';\nimport { Typography } from '@material-ui/core';\nimport { Button } from '@material-ui/core';\n\nexport default function MovieDetails(props) {\n  const [movie, setMovie] = useState({});\n  const [subs, setSubs] = useState([{}]);\n  const { id } = useParams();\n\n  useEffect(() => {\n    async function getData() {\n      try {\n        const res = await fetchMovieWith(id);\n        setMovie(res.data);\n      } catch (error) {\n        alert('Server error. Could not fetch movie data');\n      }\n    }\n\n    async function getSubs() {\n      try {\n        const res = await getAllSubscriptions();\n        let s = res.data.filter((subs) => subs.moviesId === id);\n        setSubs(s);\n        console.log('subs: ', s);\n      } catch (error) {\n        alert('Server error. Could not fetch movie data');\n      }\n    }\n    getData();\n    getSubs();\n  }, [id]);\n\n  const onBack = () => {\n    props.history.goBack();\n  };\n  return (\n    <>\n      {movie && (\n        <Typography align=\"center\" variant=\"h4\" style={{ marginTop: '20px' }}>\n          {movie.name} - Details:\n        </Typography>\n      )}\n      <div\n        style={{\n          width: '100%%',\n          display: 'flex',\n          justifyContent: 'center',\n          marginTop: '20px'\n        }}\n      >\n        {subs && <MovieCard movie={movie} subscriptions={subs} />}\n      </div>\n\n      <div\n        style={{\n          width: '100%%',\n          display: 'flex',\n          justifyContent: 'center',\n          marginTop: '20px'\n        }}\n      >\n        <Button variant=\"contained\" onClick={onBack}>\n          Back\n        </Button>\n      </div>\n    </>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport {\n  Button,\n  CardActions,\n  Card,\n  CardMedia,\n  CardHeader,\n  Typography\n} from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport { updateMember } from './MembersUtils';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(5),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n\n  errorStyle: {\n    color: theme.palette.error.main,\n    marginTop: theme.spacing(3)\n  },\n\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(3)\n  },\n  card: {\n    width: '50vw',\n    marginTop: theme.spacing(3)\n  }\n}));\nexport default function EditMember() {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [city, setCity] = useState('');\n  const [nameError, setNameError] = useState(false);\n  const [emailError, setEmailError] = useState(false);\n  //Member id to update\n  const { id } = useParams();\n  const classes = useStyles();\n  const history = useHistory();\n\n  useEffect(() => {\n    let mData = JSON.parse(localStorage.getItem('member'));\n    console.log(mData);\n    setName(mData.fullName);\n    setEmail(mData.email);\n    setCity(mData.city);\n    return () => {};\n  }, []);\n\n  const onNameChanged = (e) => {\n    setNameError(false);\n    setName(e.target.value);\n    if (e.target.value === '') {\n      setNameError(true);\n    }\n  };\n  const onEmailChanged = (e) => {\n    setEmailError(false);\n    setEmail(e.target.value);\n    if (e.target.value === '') {\n      setEmailError(true);\n    }\n  };\n\n  const onCancel = () => {\n    history.push('/subscriptions');\n  };\n\n  const onUpdate = async () => {\n    setNameError(false);\n    if (name === '') {\n      setNameError(true);\n      return;\n    }\n\n    const memberToUpdate = {\n      fullName: name,\n      email: email,\n      city: city\n    };\n\n    try {\n       let res = await updateMember(id, memberToUpdate);\n       history.push('/subscriptions');\n    } catch (err) {\n      console.log(err);\n      alert('Could not update member due to network error');\n    }\n  };\n\n  return (\n    <div className={classes.paper}>\n      <Card className={classes.card} raised={true}>\n        <CardHeader title={`Edit User - ${name}`} className=\"mt-3\" />\n\n        <div className={classes.paper}>\n          <form noValidate autoComplete=\"off\">\n            <TextField\n              fullWidth\n              id=\"name\"\n              label=\"Member Name\"\n              value={name}\n              onChange={onNameChanged}\n              className={classes.textField}\n              error={nameError}\n            />\n\n            <TextField\n              fullWidth\n              id=\"email\"\n              type=\"email\"\n              label=\"Email\"\n              value={email}\n              onChange={onEmailChanged}\n              className={classes.textField}\n              error={emailError}\n            />\n\n            <TextField\n              fullWidth\n              id=\"city\"\n              label=\"City\"\n              className={classes.textField}\n              value={city}\n              onChange={(e) => setCity(e.target.value)}\n            />\n            <CardActions>\n              <Button\n                size=\"small\"\n                color=\"primary\"\n                variant=\"outlined\"\n                className=\"mb-3\"\n                onClick={onUpdate}\n                disabled={nameError || emailError}\n              >\n                Update\n              </Button>\n\n              <Button\n                size=\"small\"\n                color=\"secondary\"\n                className=\"mb-3 ml-4\"\n                variant=\"outlined\"\n                onClick={onCancel}\n              >\n                Cancel\n              </Button>\n            </CardActions>\n          </form>\n        </div>\n      </Card>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport {\n  Button,\n  CardActions,\n  Card,\n  CardMedia,\n  CardHeader,\n  Typography\n} from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport { createMember } from './MembersUtils';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(5),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n\n  errorStyle: {\n    color: theme.palette.error.main,\n    marginTop: theme.spacing(3)\n  },\n\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(3)\n  },\n  card: {\n    width: '50vw',\n    marginTop: theme.spacing(3)\n  }\n}));\n\nexport default function CreateMember(props) {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [city, setCity] = useState('');\n  const [nameError, setNameError] = useState(false);\n  const [emailError, setEmailError] = useState(false);\n\n  const classes = useStyles();\n  const history = useHistory();\n\n \n\n  const onNameChanged = (e) => {\n    setNameError(false);\n    setName(e.target.value);\n    if (e.target.value === '') {\n      setNameError(true);\n    }\n  };\n  const onEmailChanged = (e) => {\n    setEmailError(false);\n    setEmail(e.target.value);\n    if (e.target.value === '') {\n      setEmailError(true);\n    }\n  };\n\n  const onCancel = () => {\n    //history.push('/subscriptions');\n    props.history.goBack();\n  };\n\n  const onCreate = async () => {\n    setNameError(false);\n    if (name === '') {\n      setNameError(true);\n      return;\n    }\n\n    const memberToCreate = {\n      fullName: name,\n      email: email,\n      city: city\n    };\n\n    try {\n       let res = await createMember(memberToCreate);\n       history.push('/subscriptions');\n    } catch (err) {\n      console.log(err);\n      alert('Could not create member due to network error');\n    }\n  };\n\n  return (\n    <div className={classes.paper}>\n      <Card className={classes.card} raised={true}>\n        <CardHeader title={`Create New Member`} className=\"mt-3\" />\n\n        <div className={classes.paper}>\n          <form noValidate autoComplete=\"off\">\n            <TextField\n              fullWidth\n              id=\"name\"\n              label=\"Member Name\"\n              value={name}\n              onChange={onNameChanged}\n              className={classes.textField}\n              error={nameError}\n            />\n\n            <TextField\n              fullWidth\n              id=\"email\"\n              type=\"email\"\n              label=\"Email\"\n              value={email}\n              onChange={onEmailChanged}\n              className={classes.textField}\n              error={emailError}\n            />\n\n            <TextField\n              fullWidth\n              id=\"city\"\n              label=\"City\"\n              className={classes.textField}\n              value={city}\n              onChange={(e) => setCity(e.target.value)}\n            />\n            <CardActions>\n              <Button\n                size=\"small\"\n                color=\"primary\"\n                variant=\"outlined\"\n                className=\"mb-3\"\n                onClick={onCreate}\n                disabled={nameError || emailError || name===''}\n              >\n                Create\n              </Button>\n\n              <Button\n                size=\"small\"\n                color=\"secondary\"\n                className=\"mb-3 ml-4\"\n                variant=\"outlined\"\n                onClick={onCancel}\n              >\n                Cancel\n              </Button>\n            </CardActions>\n          </form>\n        </div>\n      </Card>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Movies from '../Movies/Movies';\nimport NavBar from '../NavBar/NavBar';\nimport { Container } from 'react-bootstrap';\nimport EditMovie from '../Movies/EditMovie';\nimport CreateMovie from '../Movies/CreateMovie';\nimport AllSubscriptions from '../Subscriptions/Subscriptions';\nimport MovieDetails from '../Movies/MovieDetails';\nimport EditMember from '../Members/EditMember';\nimport  CreateMember  from '../Members/CreateMember';\nexport default function RootContainer() {\n  return (\n    <>\n      <NavBar />\n\n      <Container>\n        <Switch>\n          <Route path=\"/\" exact component={Movies} />\n        </Switch>\n        <Switch>\n          <Route path=\"/editMovie/:id\" exact component={EditMovie} />\n        </Switch>\n        <Switch>\n          <Route path=\"/createMovie\" exact component={CreateMovie} />\n        </Switch>\n        <Switch>\n          <Route path=\"/subscriptions\" exact component={AllSubscriptions} />\n        </Switch>\n        <Switch>\n          <Route path=\"/movieDetails/:id\" exact component={MovieDetails} />\n        </Switch>\n        <Switch>\n          <Route path=\"/editMember/:id\" exact component={EditMember} />\n        </Switch>\n        <Switch>\n          <Route path=\"/createMember\" exact component={CreateMember} />\n        </Switch>\n      </Container>\n    </>\n  );\n}\n","import './App.css';\nimport Login from './components/Login/Login';\nimport useToken from './components/Login/useToken';\nimport RootContainer from './components/RootContainer/RootContainer';\n//  import {useEffect} from 'react'\n\nfunction App() {\n  const { token, setToken } = useToken();\n\n  // useEffect(() => {\n  //   const tokenString = localStorage.getItem('token');\n  //   const userToken = JSON.parse(tokenString);\n  //   if(userToken){setToken(userToken)}\n  //   }, [])\n\n  if (!token) {\n    console.log('token is null: ', token);\n    return <Login setToken={setToken} />;\n  }\n  console.log('token exists', token);\n  return (\n    <div className=\"App\">\n      <RootContainer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {BrowserRouter} from 'react-router-dom'\nReactDOM.render(\n  // <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}